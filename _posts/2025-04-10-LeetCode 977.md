---

## ✅ 3. LeetCode 977. Squares of a Sorted Array 有序数组的平方

```markdown
---
title: "LeetCode 977. Squares of a Sorted Array 有序数组的平方"
date: 2025-04-09 12:05:00 +0800
categories: [算法, 双指针]
tags: [leetcode, 简单, 数组, 双指针]
math: true
---

## 题目描述

给你一个按非递减顺序排序的整数数组 `nums`，返回每个数字的平方组成的新数组，要求也按非递减顺序排序。

**示例：**

输入：nums = [-4,-1,0,3,10]  
输出：[0,1,9,16,100]

## 解题思路

负数平方后可能比正数还大，因此不能直接平方后排序。

使用双指针法：

- 指针 `left` 从左侧开始，`right` 从右侧开始
- 每轮比较 `abs(nums[left])` 和 `abs(nums[right])`，谁更大就将其平方插入结果数组末尾
- 逆序构建结果数组，再反转即可

## 代码实现（Python）

```python
class Solution:
    def sortedSquares(self, nums):
        res = [0] * len(nums)
        left, right = 0, len(nums) - 1
        pos = len(nums) - 1

        while left <= right:
            if abs(nums[left]) > abs(nums[right]):
                res[pos] = nums[left] ** 2
                left += 1
            else:
                res[pos] = nums[right] ** 2
                right -= 1
            pos -= 1
        return res